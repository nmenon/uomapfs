fdtaddr=0x80F80000
loadaddr=0x80200000
bootpart=0:1
bootdir=/
bootfile=zImage
beaglexmdtb=omap3-beagle-xm.dtb
beagledtb=omap3-beagle.dtb
findfdt=if test $beaglerev = xMC; then setenv fdtfile $beaglexmdtb; fi; if test $beaglerev = xMB; then setenv fdtfile $beaglexmdtb; fi; if test $beaglerev = xMA; then setenv fdtfile $beaglexmdtb; fi; if test $beaglerev = C4; then setenv fdtfile $beagledtb; fi; if test $beaglerev = Cx; then setenv fdtfile $beagledtb; fi; if test $beaglerev = AxBx; then setenv fdtfile $beagledtb; fi;
loadfdt=echo "FDT:loading ${bootdir}/${fdtfile} to ${fdtaddr}";fatload mmc ${bootpart} ${fdtaddr} ${bootdir}/${fdtfile};
fatloadimage=echo "Image: Loading ${bootfile}/${bootfile} to ${loadaddr}";fatload mmc ${bootpart} ${loadaddr} ${bootdir}/${bootfile}
bootargs=console=ttyO2,115200n8 root=/dev/mmcblk0p2 rw rootfstype=ext4 rootwait earlyprintk
bootwdtb=echo "Booting ${loadaddr} - ${fdtbaddr}";bootz ${loadaddr} - ${fdtbaddr}
bootcmd=run findfdt; printenv;echo "NOTE: booting from MMC filesystem";sleep 1;run fatloadimage; run loadfdt; echo "starting.."; run bootwdtb
uenvcmd=boot
